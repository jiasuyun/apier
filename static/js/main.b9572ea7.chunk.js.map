{"version":3,"sources":["clipboard.png","parse.js","components/Swagger.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SPACE","EOL","toApi","handler","concat","name","method","url","toMock","dataText","stringify","data","split","map","line","index","space","join","keyText","useMock","n","repeat","Swagger","swagger","nextProps","this","props","specActions","updateJsonSpec","SwaggerUI","dom_id","spec","presets","apis","react_default","a","createElement","id","Component","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handlerGenBtnClick","toastManager","result","state","errorToastId","remove","input","parser","Parser","_apier$parse","apier","apiers","metadata","handlers","htteTests","htteDefines","openapis","forEach","api","push","HandlerGenerator","value","_value","HtteGenerator","test","define","merge","OpenapiGenerator","openapisObj","reduce","c","get","htteTestsText","yaml","safeDump","htteDefinesText","defines","openapisText","apisText","mocksText","parse","code","err","errorLineIndex","lineNumber","add","message","appearance","autoDismiss","setState","objectSpread","error","handleCodeInput","e","target","renderCode","text","type","renderClipboard","lib_default","disabled","highlight","languages","padding","style","fontFamily","fontSize","toastManagerProxy","React","createRef","_this2","loadApiFromLocationQuery","window","addEventListener","clipboardData","getData","setTimeout","scrollTo","_this3","search","location","qs","fetch","then","res","current","click","catch","alert","dist","_ref","react_clipboard_default","className","title","position","right","top","data-clipboard-text","onSuccess","src","ClipboardIcon","alt","width","_this4","Container","fluid","Row","Col","maxWidth","Form","Label","paddingTop","sm","marginLeft","Button","variant","ref","onClick","onValueChange","js","border","Tabs","defaultActiveKey","Tab","eventKey","components_Swagger","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2EAAAA,EAAAC,QAAA,s9ICWMC,EAAQ,EACRC,EAAM,KA0BZ,SAASC,EAAMC,GACb,sBAAAC,OAAuBD,EAAQE,KAA/B,oBAAAD,OAAsDD,EAAQG,OAA9D,QAAAF,OAA2ED,EAAQI,IAAnF,OAGF,SAASC,EAAOL,GACd,IAAIM,EAAWC,oBAAUP,EAAQQ,KAAM,KAAMX,GAC7CS,EAAWA,EAASG,MAAM,MAAMC,IAAI,SAACC,EAAMC,GACzC,OAAc,IAAVA,EACKD,EAEFE,EAAMhB,GAASc,IACrBG,KAAKhB,GACR,IAAMiB,EAAO,GAAAd,OAAMY,EAAMhB,GAAZ,KAAAI,OAAsBD,EAAQG,OAA9B,KAAAF,OAAwCD,EAAQI,IAAhD,KACb,OAAKJ,EAAQgB,QAGb,GAAAf,OAAUc,EAAV,qBAAAd,OAAqCK,EAArC,MAFE,GAAAL,OAAUc,EAAV,MAAAd,OAAsBK,EAAtB,KAKJ,SAASO,EAAMI,GACb,MAAO,IAAIC,OAAOD,yBChCLE,qNArBbC,QAAU,8FACgBC,GACpBC,KAAKC,MAAMf,OAASa,EAAUb,OAC3Bc,KAAKF,QAORE,KAAKF,QAAQI,YAAYC,eAAeJ,EAAUb,MANlDc,KAAKF,QAAUM,IAAU,CACvBC,OAAQ,WACRC,KAAMP,EAAUb,KAChBqB,QAAS,CAACA,UAAQC,0CAQxB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,GAAG,mBAjBQC,gCC4LPC,uBA9Kb,SAAAA,EAAYb,GAAO,IAAAc,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAhB,KAAAc,IACjBC,EAAAC,OAAAE,EAAA,EAAAF,CAAAhB,KAAAgB,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAApB,KAAMC,KA4CRoB,mBAAqB,SAAAC,GAInB,IAAIC,EAHAR,EAAKS,MAAMC,cACbH,EAAaI,OAAOX,EAAKS,MAAMC,cAGjC,IACEF,EFvDS,SAAeI,GAC5B,IAAMC,EAAS,IAAIC,IADgBC,EAENC,QAAYJ,EAAOC,GAAxCI,EAF2BF,EAE3BE,OAAQC,EAFmBH,EAEnBG,SACVC,EAAW,GACXC,EAAY,GACZC,EAAc,GACdC,EAAW,GACjBL,EAAOM,QAAQ,SAAAC,GACbL,EAASM,KAAK,IAAIC,IAAiBF,GAAKG,OADpB,IAAAC,EAEK,IAAIC,IAAcL,GAAKG,MAAxCG,EAFYF,EAEZE,KAAMC,EAFMH,EAENG,OACdX,EAAUK,KAAKK,GACfE,IAAMX,EAAaU,GACnBT,EAASG,KAAK,IAAIQ,IAAiBT,GAAKG,SAE1C,IAAMO,EAAcZ,EAASa,OAAO,SAACxC,EAAGyC,GAAJ,OAAUJ,IAAMrC,EAAGyC,IAAIC,IAAInB,EAAU,cAAe,KAElFoB,EAAgBC,IAAKC,SAASpB,GAC9BqB,EAAkBF,IAAKC,SAAS,CAAEE,QAASrB,IAC3CsB,EAAeJ,IAAKC,SAASN,GAGnC,MAAO,CAAEU,SAFQzB,EAAS9C,IAAIX,GAAOe,KAAKhB,GAEvBoF,UADJ,mBAAAjF,OAAsBH,GAAtBG,OAA4BuD,EAAS9C,IAAIL,GAAQS,KAAKhB,IAAtDG,OAA6DH,EAA7D,MACe6E,gBAAeK,eAAcF,kBAAiBP,eEkC/DY,CAAM9C,EAAKS,MAAMsC,MAC1B,MAAOC,GACP,IAAIC,GAAkB,EAStB,OARID,EAAIE,aACND,EAAiBD,EAAIE,WAAa,QAEpC3C,EAAa4C,IACXH,EAAII,QACJ,CAAEC,WAAY,QAASC,aAAa,GACpC,SAAA5C,GAAY,OAAIV,EAAKuD,SAAS,CAAE7C,eAAcuC,qBAIlDjD,EAAKuD,SAALtD,OAAAuD,EAAA,EAAAvD,CAAA,CACEwD,MAAO,GACPR,gBAAiB,GACdzC,KAnEYR,EAsEnB0D,gBAAkB,SAAAC,GAChB3D,EAAKuD,SAAS,CAAER,KAAMY,EAAEC,OAAOjC,SAvEd3B,EA0FnB6D,WAAa,SAACC,EAAMC,GAClB,OAAKD,EAEHpE,EAAAC,EAAAC,cAAA,WACGI,EAAKgE,gBAAgBF,GACtBpE,EAAAC,EAAAC,cAACqE,EAAAtE,EAAD,CACEgC,MAAOmC,EACPI,UAAQ,EACRC,UAAW,SAAApB,GAAI,OAAIoB,oBAAUpB,EAAMqB,YAAUL,KAC7CM,QAAS,GACTC,MAAO,CACLC,WAAY,sCACZC,SAAU,OAXA9E,EAAAC,EAAAC,cAAA,aAzFlBI,EAAKS,MAAQ,CACXsC,KAAM,GACNU,MAAO,GACP/C,aAAc,KACduC,gBAAiB,EACjBL,SAAU,GACVC,UAAW,GACXJ,gBAAiB,GACjBH,cAAe,GACfK,aAAc,GACdT,YAAa,MAEflC,EAAKyE,kBAAoBC,IAAMC,YAdd3E,mFAgBC,IAAA4E,EAAA3F,KAClBA,KAAK4F,2BACLC,OAAOC,iBAAiB,QAAS,SAAApB,GAC/B,IAAIxF,EAAOwF,EAAEqB,cAAcC,QAAQ,QACnCC,WAAW,WACLN,EAAKnE,MAAMsC,OAAS5E,GACtB2G,OAAOK,SAAS,EAAG,IAEpB,yDAGoB,IAAAC,EAAAnG,KACjBoG,EAAWP,OAAOQ,SAAlBD,OACR,GAAKA,EAAL,CAFyB,IAKjBrE,EAAUuE,IAAGzC,MAAMuC,GAAnBrE,MACHA,GAGLwE,MAAMxE,GAAOyE,KAAK,SAAAC,GAChB,OAAOA,EAAI5B,SACV2B,KAAK,SAAA3B,GACNsB,EAAK7B,SAAS,CAAER,KAAMe,IACtBsB,EAAKX,kBAAkBkB,QAAQC,UAC9BC,MAAM,SAAA7C,GACP8B,OAAOgB,MAAP,wBAAAlI,OAAqCoD,EAArC,MAAApD,OAA+CoF,EAAII,qDA+BvCU,GACd,OACEpE,EAAAC,EAAAC,cAACmG,EAAA,cAAD,KACG,SAAAC,GAAA,IAAG7C,EAAH6C,EAAG7C,IAAH,OACCzD,EAAAC,EAAAC,cAACqG,EAAAtG,EAAD,CACEuG,UAAU,gBACVC,MAAM,uCACN7B,MAAO,CAAE8B,SAAU,WAAYC,MAAO,OAAQC,IAAK,OACnDC,sBAAqBzC,EACrB0C,UAAW,kBAAMrD,EAAI,qBAAO,CAAEE,WAAY,UAAWC,aAAa,MAElE5D,EAAAC,EAAAC,cAAA,OAAK6G,IAAKC,IAAeC,IAAI,GAAGrC,MAAO,CAAEsC,MAAO,8CAwBjD,IAAAC,EAAA5H,KACP,OACES,EAAAC,EAAAC,cAAA,OAAKsG,UAAU,OACbxG,EAAAC,EAAAC,cAACmG,EAAA,cAAD,KACErG,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CAAWC,OAAK,GACdrH,EAAAC,EAAAC,cAACoH,EAAA,EAAD,KACEtH,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAK3C,MAAO,CAAE4C,SAAU,QACtBxH,EAAAC,EAAAC,cAACoH,EAAA,EAAD,KACEtH,EAAAC,EAAAC,cAACqH,EAAA,EAAD,KACEvH,EAAAC,EAAAC,cAACuH,EAAA,EAAKC,MAAN,CAAY9C,MAAO,CAAE+C,WAAY,SAAjC,QAEF3H,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAKK,GAAG,OAAOhD,MAAO,CAAEiD,WAAY,SAClC7H,EAAAC,EAAAC,cAACmG,EAAA,cAAD,KACG,SAAAxF,GAAY,OACXb,EAAAC,EAAAC,cAAC4H,EAAA,EAAD,CAAQC,QAAQ,kBAAkBC,IAAKb,EAAKpC,kBAAmBP,UAAW2C,EAAKpG,MAAMsC,KAAM4E,QAAS,kBAAMd,EAAKvG,mBAAmBC,KAAlI,oBAKRb,EAAAC,EAAAC,cAACqE,EAAAtE,EAAD,CACEgC,MAAO1C,KAAKwB,MAAMsC,KAClB6E,cAAe,SAAA7E,GAAI,OAAI8D,EAAKtD,SAAS,CAAER,UACvCoB,UAAW,SAAApB,GAAI,OACboB,oBAAUpB,EAAMqB,YAAUyD,IACvBzJ,MAAM,MACNC,IAAI,SAACC,EAAMC,GAAP,sBAAAX,OAAiCW,IAAUsI,EAAKpG,MAAMwC,eAAiB,kBAAoB,OAA3F,MAAArF,OAAsGU,EAAtG,aACJG,KAAK,OAEV4F,QAAS,GACTC,MAAO,CACLC,WAAY,sCACZC,SAAU,GACVsD,OAAQ,0BAIdpI,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAK3C,MAAO,CAAE4C,SAAU,QACtBxH,EAAAC,EAAAC,cAACmI,EAAA,EAAD,CAAMC,iBAAiB,WACrBtI,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAKC,SAAS,UAAU/B,MAAM,WAC5BzG,EAAAC,EAAAC,cAACuI,EAAD,CAAShK,KAAMc,KAAKwB,MAAMyB,eAE5BxC,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAKC,SAAS,UAAU/B,MAAM,WAC3BlH,KAAK4E,WAAW5E,KAAKwB,MAAMkC,aAAc,SAE5CjD,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAKC,SAAS,YAAY/B,MAAM,cAC7BlH,KAAK4E,WAAW5E,KAAKwB,MAAM6B,cAAe,SAE7C5C,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAKC,SAAS,cAAc/B,MAAM,gBAC/BlH,KAAK4E,WAAW5E,KAAKwB,MAAMgC,gBAAiB,SAE/C/C,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAKC,SAAS,MAAM/B,MAAM,OACvBlH,KAAK4E,WAAW5E,KAAKwB,MAAMmC,SAAU,eAExClD,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAKC,SAAS,OAAO/B,MAAM,QACxBlH,KAAK4E,WAAW5E,KAAKwB,MAAMoC,UAAW,4BAnKzC/C,cCLEsI,QACW,cAA7BtD,OAAOQ,SAAS+C,UAEe,UAA7BvD,OAAOQ,SAAS+C,UAEhBvD,OAAOQ,SAAS+C,SAASC,MACvB,kECXNC,IAASC,OAAO9I,EAAAC,EAAAC,cAAC6I,GAAD,MAASC,SAASC,eAAe,SD0H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMrD,KAAK,SAAAsD,GACjCA,EAAaC","file":"static/js/main.b9572ea7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import * as apier from '@jiasuyun/apier';\nimport Parser from '@jiasuyun/apier-parser-json5';\nimport yaml from 'js-yaml';\nimport merge from 'lodash/merge';\nimport get from 'lodash/get';\nimport { stringify } from 'javascript-stringify';\n\nimport OpenapiGenerator from '@jiasuyun/apier-generator-openapi';\nimport HtteGenerator from '@jiasuyun/apier-generator-htte';\nimport HandlerGenerator from '@jiasuyun/apier-generator-handler';\n\nconst SPACE = 2;\nconst EOL = '\\n';\n\nexport default function parse(input) {\n  const parser = new Parser();\n  const { apiers, metadata } = apier.parse(input, parser);\n  const handlers = [];\n  const htteTests = [];\n  const htteDefines = {};\n  const openapis = [];\n  apiers.forEach(api => {\n    handlers.push(new HandlerGenerator(api).value);\n    const { test, define } = new HtteGenerator(api).value;\n    htteTests.push(test);\n    merge(htteDefines, define);\n    openapis.push(new OpenapiGenerator(api).value);\n  });\n  const openapisObj = openapis.reduce((a, c) => merge(a, c), get(metadata, 'openapi.doc', {}));\n\n  const htteTestsText = yaml.safeDump(htteTests);\n  const htteDefinesText = yaml.safeDump({ defines: htteDefines });\n  const openapisText = yaml.safeDump(openapisObj)\n  const apisText = handlers.map(toApi).join(EOL);\n  const mocksText = `export default {${EOL}${handlers.map(toMock).join(EOL)}${EOL}};`\n  return { apisText, mocksText, htteTestsText, openapisText, htteDefinesText, openapisObj };\n}\n\nfunction toApi(handler) {\n  return `export const ${handler.name} = makeRequest(\"${handler.method}\", \"${handler.url}\");`;\n}\n\nfunction toMock(handler) {\n  let dataText = stringify(handler.data, null, SPACE);\n  dataText = dataText.split('\\n').map((line, index) => {\n    if (index === 0) {\n      return line;\n    }\n    return space(SPACE) + line;\n  }).join(EOL);\n  const keyText = `${space(SPACE)}'${handler.method} ${handler.url}'`;\n  if (!handler.useMock) {\n    return `${keyText}: ${dataText},`;\n  }\n  return `${keyText}: createMockData(${dataText}),`;\n}\n\nfunction space(n) {\n  return ' '.repeat(n);\n}","import React, { Component } from \"react\";\nimport SwaggerUI, { presets } from 'swagger-ui';\nimport 'swagger-ui/dist/swagger-ui.css';\n\nclass Swagger extends Component {\n  swagger = null;\n  componentWillReceiveProps(nextProps) {\n    if (this.props.data !== nextProps.data){\n      if (!this.swagger) {\n        this.swagger = SwaggerUI({\n          dom_id: '#swagger',\n          spec: nextProps.data,\n          presets: [presets.apis],\n        });\n      } else {\n        this.swagger.specActions.updateJsonSpec(nextProps.data);\n      }\n    }\n  }\n  render() {\n    return (\n      <div id=\"swagger\"></div>\n    )\n  }\n}\n\nexport default Swagger;","import React, { Component } from 'react';\nimport { Container, Row, Col, Form, Tabs, Tab, Button } from 'react-bootstrap';\nimport Clipboard from 'react-clipboard.js';\nimport ClipboardIcon from './clipboard.png';\nimport { ToastConsumer, ToastProvider } from 'react-toast-notifications';\nimport Editor from 'react-simple-code-editor';\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/components/prism-typescript';\nimport 'prismjs/components/prism-yaml';\nimport 'prismjs/themes/prism.css';\nimport parse from './parse';\nimport Swagger from \"./components/Swagger\";\nimport qs from \"query-string\";\n\nimport './App.css';\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: '',\n      error: '',\n      errorToastId: null,\n      errorLineIndex: -1,\n      apisText: '',\n      mocksText: '',\n      htteDefinesText: '',\n      htteTestsText: '',\n      openapisText: '',\n      openapisObj: null,\n    };\n    this.toastManagerProxy = React.createRef();\n  }\n  componentDidMount() {\n    this.loadApiFromLocationQuery();\n    window.addEventListener('paste', e => {\n      let data = e.clipboardData.getData('text');\n      setTimeout(() => {\n        if (this.state.code === data) {\n          window.scrollTo(0, 0);\n        }\n      }, 10);\n    });\n  }\n  loadApiFromLocationQuery() {\n    const { search } = window.location;\n    if (!search) {\n      return;\n    }\n    const { apier } = qs.parse(search);\n    if (!apier) {\n      return;\n    }\n    fetch(apier).then(res => {\n      return res.text();\n    }).then(text => {\n      this.setState({ code: text })\n      this.toastManagerProxy.current.click();\n    }).catch(err => {\n      window.alert(`Cannot load apier at ${apier}, ${err.message}`);\n    })\n  }\n  handlerGenBtnClick = toastManager => {\n    if (this.state.errorToastId) {\n      toastManager.remove(this.state.errorToastId);\n    }\n    let result;\n    try {\n      result = parse(this.state.code);\n    } catch (err) {\n      let errorLineIndex = -1;\n      if (err.lineNumber) {\n        errorLineIndex = err.lineNumber - 1;\n      }\n      toastManager.add(\n        err.message,\n        { appearance: 'error', autoDismiss: false },\n        errorToastId => this.setState({ errorToastId, errorLineIndex })\n      );\n      return;\n    }\n    this.setState({\n      error: '',\n      errorLineIndex: -1,\n      ...result,\n    })\n  }\n  handleCodeInput = e => {\n    this.setState({ code: e.target.value })\n  }\n  renderClipboard(text) {\n    return (\n      <ToastConsumer>\n        {({ add }) => (\n          <Clipboard\n            className=\"btn btn-light\"\n            title=\"复制到剪切板\"\n            style={{ position: 'absolute', right: '14px', top: '3px' }}\n            data-clipboard-text={text}\n            onSuccess={() => add('已复制', { appearance: 'success', autoDismiss: true })}\n          >\n            <img src={ClipboardIcon} alt=\"\" style={{ width: '20px' }} />\n          </Clipboard>\n        )}\n      </ToastConsumer>\n    )\n  }\n  renderCode = (text, type) => {\n    if (!text) return <div></div>;\n    return (\n      <div>\n        {this.renderClipboard(text)}\n        <Editor\n          value={text}\n          disabled\n          highlight={code => highlight(code, languages[type])}\n          padding={10}\n          style={{\n            fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n            fontSize: 12,\n          }}\n        />\n      </div>\n    )\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastProvider>\n          <Container fluid>\n            <Row>\n              <Col style={{ maxWidth: '50%' }}>\n                <Row>\n                  <Col>\n                    <Form.Label style={{ paddingTop: '10px' }}>API</Form.Label>\n                  </Col>\n                  <Col sm=\"auto\" style={{ marginLeft: 'auto' }}>\n                    <ToastConsumer>\n                      {toastManager => (\n                        <Button variant=\"outline-primary\" ref={this.toastManagerProxy} disabled={!this.state.code} onClick={() => this.handlerGenBtnClick(toastManager)}>生成</Button>\n                      )}\n                    </ToastConsumer>\n                  </Col>\n                </Row>\n                <Editor\n                  value={this.state.code}\n                  onValueChange={code => this.setState({ code })}\n                  highlight={code =>\n                    highlight(code, languages.js)\n                      .split('\\n')\n                      .map((line, index) => `<span class=\"${index === this.state.errorLineIndex ? 'line line-error' : 'line'}\">${line}</span>`)\n                      .join('\\n')\n                  }\n                  padding={10}\n                  style={{\n                    fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n                    fontSize: 12,\n                    border: '1px solid lightgray',\n                  }}\n                />\n              </Col>\n              <Col style={{ maxWidth: '50%' }}>\n                <Tabs defaultActiveKey=\"swagger\">\n                  <Tab eventKey=\"swagger\" title=\"SWAGGER\">\n                    <Swagger data={this.state.openapisObj} />\n                  </Tab>\n                  <Tab eventKey=\"openapi\" title=\"OPENAPI\">\n                    {this.renderCode(this.state.openapisText, 'yaml')}\n                  </Tab>\n                  <Tab eventKey=\"htteTests\" title=\"HTTE-TESTS\">\n                    {this.renderCode(this.state.htteTestsText, 'yaml')}\n                  </Tab>\n                  <Tab eventKey=\"htteDefines\" title=\"HTTE-DEFINES\">\n                    {this.renderCode(this.state.htteDefinesText, 'yaml')}\n                  </Tab>\n                  <Tab eventKey=\"api\" title=\"API\">\n                    {this.renderCode(this.state.apisText, 'javascript')}\n                  </Tab>\n                  <Tab eventKey=\"mock\" title=\"MOCK\">\n                    {this.renderCode(this.state.mocksText, 'javascript')}\n                  </Tab>\n                </Tabs>\n              </Col>\n            </Row>\n          </Container>\n        </ToastProvider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}